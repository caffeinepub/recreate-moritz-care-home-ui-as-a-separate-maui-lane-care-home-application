{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 117,
  "summary": "Build a separate Maui Lane Care Home application by closely copying the Moritz Care Home application's layout, UI, and details, on the existing ICP canister (Motoko) + React (Vite) scaffold with Internet Identity.",
  "existing_features": [
    {
      "id": "IF-1",
      "title": "Motoko backend canister scaffold",
      "synonyms": [
        "core infrastructure",
        "backend main canister"
      ],
      "description": "Backend canister structure with main entrypoint and supporting modules wired for the application.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-2",
      "title": "Authorization & access control (Motoko)",
      "synonyms": [
        "mixin authorization",
        "access-control"
      ],
      "description": "Backend authorization layer implementing access control logic for protected operations.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-3",
      "title": "React (Vite) frontend scaffold with app layout",
      "synonyms": [
        "initial app UI",
        "AppLayout",
        "ScreenContainer"
      ],
      "description": "Frontend application shell including layout, navigation structure, shared loading/error states, and Tailwind styling.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-4",
      "title": "Internet Identity authentication integration",
      "synonyms": [
        "II auth",
        "useInternetIdentity",
        "login button"
      ],
      "description": "Frontend authentication hooks and UI for Internet Identity login and session handling; actor wiring to backend.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-5",
      "title": "Protected-access UX (Access Denied screen)",
      "synonyms": [
        "AccessDeniedScreen"
      ],
      "description": "Frontend handling for unauthorized access scenarios with a dedicated access denied screen.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-6",
      "title": "Profile setup modal",
      "synonyms": [
        "ProfileSetupModal",
        "onboarding"
      ],
      "description": "Frontend modal flow to guide users through initial profile setup after authentication.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-7",
      "title": "Core application pages",
      "synonyms": [
        "HomePage",
        "AnnouncementsPage",
        "FacilitiesPage",
        "ResidentsPage",
        "ProfilePage"
      ],
      "description": "Implemented initial route pages for core sections of the app (home, announcements, facilities, residents, profile).",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-8",
      "title": "Generated brand assets (icon, logo, hero)",
      "synonyms": [
        "generated images",
        "branding assets"
      ],
      "description": "Generated static PNG assets for app icon, logo, and hero banner included in the frontend public assets.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-9",
      "title": "Build/deploy template and tooling",
      "synonyms": [
        "Dockerfile",
        "deploy.sh",
        "icp.yaml",
        "build template"
      ],
      "description": "Project build template including Docker/deploy scripts, ICP configuration, and frontend build tooling/scripts (e.g., image processing).",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-10",
      "title": "Shadcn UI component library included",
      "synonyms": [
        "shadcn-ui"
      ],
      "description": "Shadcn UI component set added to the frontend codebase for consistent UI primitives.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-11",
      "title": "Maui Lane Care Home branded app shell + navigation",
      "synonyms": [
        "MauiAppShell",
        "MauiNav",
        "branded layout"
      ],
      "description": "Introduced Maui-specific application shell and navigation components and wired them into the React app, using the generated Maui Lane brand assets in the authenticated experience.",
      "reqIds": [
        "REQ-3",
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "IF-12",
      "title": "Moritz reference capture route + missing-reference placeholder",
      "synonyms": [
        "MoritzReferenceCapture",
        "MissingReferencePlaceholder",
        "reference inputs"
      ],
      "description": "Added a dedicated reference-capture page/route and a placeholder UI that documents what Moritz reference screenshots/pages are needed when references have not been provided.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "IF-13",
      "title": "Maui dashboard page (authenticated)",
      "synonyms": [
        "Dashboard",
        "maui pages"
      ],
      "description": "Added an initial Maui-specific dashboard page under the Maui route set, intended to mirror the Moritz app structure within the protected/authenticated experience.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-14",
      "title": "Maui residents directory UI (dashboard/grid with filtering + KPIs)",
      "synonyms": [
        "Maui residents page",
        "ResidentGrid",
        "ResidentCard",
        "ResidentStatusTabs",
        "ResidentFilterSortBar"
      ],
      "description": "Implemented Maui-specific residents UI components including a resident dashboard header, KPI row, status tabs, filter/sort bar, and responsive resident card/grid rendering backed by mock resident data and list utilities.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-15",
      "title": "Maui resident profile page (detail view) with mock profile + medications data",
      "synonyms": [
        "ResidentProfile",
        "resident detail page",
        "mockResidentProfileData",
        "mockResidentMedications"
      ],
      "description": "Added a Maui-specific resident profile/detail page with supporting mock profile and medication datasets to complement the residents directory and enable navigation to an individual resident view prior to backend integration.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-16",
      "title": "Maui residents add/edit resident dialogs (UI-only, mock wiring)",
      "synonyms": [
        "AddNewResidentDialog",
        "EditResidentInformationDialog",
        "resident CRUD dialogs"
      ],
      "description": "Added Maui residents module dialogs for adding a new resident and editing resident information, matching the intended Moritz-style UI patterns; currently frontend-only with mock/non-persistent behavior pending backend integration.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-17",
      "title": "Maui resident profile print report page",
      "synonyms": [
        "ResidentProfilePrintReport",
        "printable resident report",
        "resident report print view"
      ],
      "description": "Added a dedicated Maui resident profile print-report page/component to render a printable version of resident details (intended for printing/export) alongside the existing resident profile detail experience.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-18",
      "title": "Maui resident vitals UI (record daily vitals + vitals history list)",
      "synonyms": [
        "RecordDailyVitalsDialog",
        "VitalsHistoryList",
        "resident vitals module"
      ],
      "description": "Added Maui residents vitals UI components to support recording daily vitals via a dialog and viewing prior vitals entries in a history list; currently frontend-only pending backend persistence/integration.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-19",
      "title": "MAR (Medication Administration Record) UI in resident profile (tab + add-record modal + history list)",
      "synonyms": [
        "MAR tab",
        "AddMarRecordDialog",
        "MarHistoryList"
      ],
      "description": "Implemented functional MAR module UI within the Maui resident profile, including a MAR history list view and an \"Add MAR Record\" button that opens a modal for creating a MAR entry.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "IF-20",
      "title": "Frontend MAR data flow via React Query hooks (create/list/delete)",
      "synonyms": [
        "React Query MAR hooks",
        "MAR mutations/queries"
      ],
      "description": "Added frontend query/mutation wiring for MAR records using React Query-style hooks to create, list, and delete MAR records and refresh the MAR list after mutations.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "IF-21",
      "title": "Motoko backend MAR record persistence (types + CRUD with access control)",
      "synonyms": [
        "MAR canister methods",
        "MAR list/create/delete"
      ],
      "description": "Extended the Motoko backend canister with MAR record types and CRUD endpoints (list/create/delete), enforcing access control consistent with the existing authorization module.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "IF-22",
      "title": "ADL (Activities of Daily Living) UI in resident profile (add-record dialog + history list)",
      "synonyms": [
        "ADL tab",
        "AddAdlRecordDialog",
        "AdlHistoryList"
      ],
      "description": "Added Maui residents ADL UI components to support recording ADL entries via a dialog and viewing prior ADL entries in a history list; currently frontend-only pending backend persistence/integration.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-23",
      "title": "Resident medications UI (add-medication dialog components)",
      "synonyms": [
        "AddMedicationDialog",
        "resident medications module UI"
      ],
      "description": "Added Maui residents medications UI components (e.g., AddMedicationDialog and medications module index) to support adding/managing medication entries in the resident profile experience; frontend/UI-layer only pending backend persistence/integration.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-24",
      "title": "Motoko backend resident persistence (types + CRUD with access control)",
      "synonyms": [
        "Residents canister methods",
        "resident list/create/update/delete",
        "resident status toggle"
      ],
      "description": "Extended the Motoko backend canister with resident data types and CRUD-style endpoints to create, list, update (including status toggle), and delete residents, enforcing access control consistent with the existing authorization module and supporting stable persistence/migration.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "IF-25",
      "title": "Frontend residents React Query hooks (list/create/delete/update) keyed by principal",
      "synonyms": [
        "residentQueryKeys",
        "React Query residents hooks",
        "principal-keyed queries"
      ],
      "description": "Added/extended frontend query/mutation hooks for residents APIs (list/create/delete/update/toggle) with query keys scoped to the authenticated principal to ensure correct refetching and isolation across identity changes.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "IF-26",
      "title": "Residents Directory wired to backend resident list + mutations (delete/status toggle)",
      "synonyms": [
        "residentDirectoryViewModel",
        "backend-backed Residents Dashboard",
        "remove mockResidents state"
      ],
      "description": "Updated the Maui Residents Directory UI to load residents from the canister (instead of mock/local initialization) and to use backend-backed mutations for deletion and status toggling, keeping UI state consistent across reloads and sign-in changes via refetching.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-edit-action-on-the-resident-profile-page-frontend-src-pages-maui-residents-residentprofile-tsx-that-opens-the-existing-editresidentinformationdialog-and-allows-updating-the-currently-viewed-resident-s-information",
      "title": "Add an \"Edit\" action on the resident profile page (frontend/src/pages/maui/residents/ResidentProfile.tsx) that opens the existing EditResidentInformationDialog and allows updating the currently-viewed resident’s information.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-wire-the-editresidentinformationdialog-save-action-on-the-resident-profile-page-to-the-existing-updateresident-backend-mutation-useupdateresident-and-refresh-the-profile-view-after-a-successful-save",
      "title": "Wire the EditResidentInformationDialog save action on the resident profile page to the existing updateResident backend mutation (useUpdateResident) and refresh the profile view after a successful save.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-resident-update-request-preserves-backend-only-fields-not-editable-in-the-dialog-e-g-insurance-responsible-persons-medications-by-reusing-the-existing-backendresident-values-when-constructing-the-residentupdaterequest",
      "title": "Ensure the resident update request preserves backend-only fields not editable in the dialog (e.g., insurance, responsible persons, medications) by reusing the existing backendResident values when constructing the ResidentUpdateRequest.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Recreate an exact copy of the Moritz Care Home application (layout, UI, and details) as a separate application branded for Maui Lane Care Home.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Create a separate application experience branded as “Maui Lane Care Home” that closely recreates the Moritz Care Home application’s layout, UI, and on-screen details, using the existing React + Motoko + Internet Identity template as the foundation.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Ensure any Moritz-specific data labels, placeholders, and UI copy are replaced with Maui Lane Care Home equivalents while keeping the same UI structure as the Moritz reference.",
      "reqIds": [
        "REQ-4"
      ],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Maintain compatibility with existing Internet Identity authentication and protected-access UX (do not remove or bypass login gating); the Maui Lane Care Home UI should appear within the authenticated experience where applicable.",
      "reqIds": [
        "REQ-5"
      ],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Allow editing resident information directly from the resident profile page (wire edit action/navigation to existing edit resident dialog/flow).",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "architectural_notes": [
    "Architecture: ICP canister app with Motoko backend + React (Vite) frontend.",
    "Authentication: Internet Identity used on the frontend; actor-based calls to backend canister.",
    "Authorization: Backend access-control module enforces permissions; frontend includes AccessDenied UX.",
    "UI stack: Tailwind CSS + shadcn-ui component library.",
    "Build/deploy: Includes Docker/deploy scripts and ICP config; image resize/prune scripts for generated assets.",
    "Frontend: Maui-specific app shell/navigation components (MauiAppShell/MauiNav) layered on the existing React+II scaffold.",
    "Frontend: Maui residents module built from composable components (ResidentGrid/Card/Header/KPIs/Tabs/FilterSort) with mock data + list utilities as a stand-in for backend integration.",
    "Frontend: Added Maui resident profile/detail page with supporting mock profile + medications data modules as a stand-in for backend detail endpoints.",
    "Frontend: Added Maui residents add/edit dialogs (AddNewResidentDialog/EditResidentInformationDialog) as UI-only components pending backend persistence/integration.",
    "Build/template sync: Updated ICP + React/Vite + shadcn-ui build template/tooling and Motoko authorization modules to current component versions (core-infrastructure v1.0.2, authorization v4.0.0)."
  ],
  "known_issues": [
    "Uploaded/replaced Maui Lane logo is not appearing/loaded across application pages; needs fix to ensure logo renders reliably everywhere."
  ],
  "isFixRequest": false,
  "generatedImages": [
    {
      "filename": "frontend/public/assets/generated/maui-lane-app-icon.dim_256x256.png",
      "description": "Generated application icon (256x256).",
      "targetWidth": 256,
      "targetHeight": 256
    },
    {
      "filename": "frontend/public/assets/generated/maui-lane-logo.dim_512x512.png",
      "description": "Generated application logo (512x512).",
      "targetWidth": 512,
      "targetHeight": 512
    },
    {
      "filename": "frontend/public/assets/generated/maui-lane-hero.dim_1600x600.png",
      "description": "Generated hero/banner image (1600x600).",
      "targetWidth": 1600,
      "targetHeight": 600
    }
  ],
  "projectName": "Recreate Moritz Care Home UI as a separate Maui Lane Care Home application",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}