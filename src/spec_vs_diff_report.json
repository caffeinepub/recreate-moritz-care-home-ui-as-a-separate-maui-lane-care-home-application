{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-05T00:16:42.133Z",
  "summary": "Diff adds a dedicated ResidentProfilePrintReport component, wires the Resident Profile page “Print” action to window.print(), and introduces @media print CSS plus .no-print/.print-report toggles to hide app chrome and show the report. However, based on the truncated diff, it’s not fully verifiable that all required report sections are present and that the include-signature toggle conditionally affects printed output; it’s also unclear whether Resident Profile page-level UI controls (buttons/tabs/edit actions) are marked to be excluded from printing.",
  "missing_requirements": [
    {
      "id": "REQ-6",
      "requirement": "Printed output includes all key sections from the reference image: Discontinued Medications, Assigned Physicians, Pharmacy Information, and Responsible Contacts.",
      "reason": "ResidentProfilePrintReport.tsx is truncated shortly after the Active Medications table header, so the presence of the remaining required sections cannot be confirmed from the provided diff summary.",
      "evidence": [
        "frontend/src/pages/maui/residents/ResidentProfilePrintReport.tsx (truncated)"
      ]
    },
    {
      "id": "REQ-6",
      "requirement": "“Include physician printed name & signature” toggle affects printed output (adds/removes signature/printed-name area).",
      "reason": "ResidentProfilePrintReport accepts includeSignature, and ResidentProfile.tsx maintains includeSignature state, but the diff does not show any conditional rendering tied to includeSignature (the print component is truncated before any signature block could be verified).",
      "evidence": [
        "frontend/src/pages/maui/residents/ResidentProfile.tsx (truncated)",
        "frontend/src/pages/maui/residents/ResidentProfilePrintReport.tsx (truncated)"
      ]
    },
    {
      "id": "REQ-6",
      "requirement": "Non-print UI elements on the Resident Profile page (page action buttons, tabs UI, edit/add medication buttons) do not appear in the printed document.",
      "reason": "App-level header/nav/footer are marked .no-print in MauiAppShell, but the diff does not show .no-print applied to Resident Profile page controls (Print/Edit buttons, Tabs, medication action buttons). Without those classes (or equivalent print CSS selectors), these elements may still appear when printing.",
      "evidence": [
        "frontend/src/components/maui/MauiAppShell.tsx",
        "frontend/src/pages/maui/residents/ResidentProfile.tsx (truncated)",
        "frontend/src/index.css (truncated)"
      ]
    }
  ],
  "hallucinated_features": [
    {
      "description": "Broad non-print theme/palette changes to global CSS variables (light/dark OKLCH design system) beyond print-specific styling.",
      "reason": "REQ-7 requests print-specific styling via @media print; the diff also changes many non-print global theme tokens, which is not explicitly requested for enabling printable Resident Profile reports.",
      "evidence": [
        "frontend/src/index.css (truncated)"
      ]
    }
  ],
  "confidence": 0.62,
  "changed_files": [
    "frontend-file-summaries.txt",
    "frontend/src/components/maui/MauiAppShell.tsx",
    "frontend/src/index.css",
    "frontend/src/pages/maui/residents/ResidentProfile.tsx",
    "frontend/src/pages/maui/residents/ResidentProfilePrintReport.tsx",
    "project_state.json"
  ]
}